<!DOCTYPE html>
<html>
<head>
	<title>ajax use</title>
</head>
<body>
	<form>
		Input: 
		<input type="text" name="username" id="user">
		Password: 
		<input type="password" name="password" id="pw">
		<button type="button" onclick="loadDoc()">Load Text</button>
	</form>

	<div id="ajax">

	</div>
	<script type="text/javascript">//call back func runds after the file is read completely
		function loadDoc()
		{
			var u=document.getElementById("user").value;
			var p=document.getElementById("pw").value;
			
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function()
			{
				if(this.readyState == 4 && this.status == 200) // 2xx are success code, 4xx are failure codes in http
				{
					document.getElementById("ajax").innerHTML = this.responseText;
				}
			};
			//xhttp.open("GET","http://172.16.32.123:3000",true); //true means method url async // getting request using forms

			xhttp.open("GET","http://172.16.32.123:3000/get?username="+u+"&password="+p,true); //getting request using ajax

			//send headers
			xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"); // this is being sent by usrl encoding hence application/x-www.... is written
			xhttp.send();

		}
			/*
				readyState holds the status of the XMLHttp Request
				0: request not initialised
				1: server connection established
				2: request recieved
				3: processing request
				4: request finished and response 
			*/
		
	</script>
</body>
</html>